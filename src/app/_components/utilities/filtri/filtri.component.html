<form class="data-form flex-form" [formGroup] = "form">

    <div mat-list-item style="text-align: center; margin-bottom: 10px;">
        Filtri Avanzati
    </div>
    <mat-list-item *ngIf="(page$ |async) == 'genitoriList'">
        <mat-icon>face</mat-icon>
        <mat-form-field>
            <mat-label>Nome e Cognome Alunno</mat-label>
            <input type="text"
                    placeholder="<digita e seleziona>"
                    matInput
                    formControlName="nomeCognomeAlunno"
                    [matAutocomplete]="auto1" #nomeCognomeAlunno 
                    (keydown.enter) = "enterAlunnoInput()"
                    >
                    <!-- [displayWith]="displayFn" DisplayWith impedisce che si possa scrivere qualcosa nella input in maniera programmatica-->
            <mat-autocomplete #auto1="matAutocomplete">
                <!-- <mat-spinner *ngIf="nomeAlunnoIsLoading" class="is-loading" diameter="40"></mat-spinner> -->
                <mat-option *ngFor="let element of (filteredAlunni$ | async)" (click) = "clickAlunnoCombo(element)" [value]="element.nome + ' ' + element.cognome" #option>
                    <small>{{element.nome}} {{element.cognome}}</small>
                </mat-option>
            </mat-autocomplete>
            <button mat-button matSuffix mat-icon-button aria-label="Clear" (click)="resetInputAlunno('nomeCognomeAlunno')">
                <mat-icon>close</mat-icon>
            </button>
        </mat-form-field>
    </mat-list-item >

    <mat-list-item *ngIf="(page$ |async) == 'alunniList'">
        <img class="iconaMenu" src="../assets/parents.svg">
        <mat-form-field>
            <mat-label>Nome e Cognome Genitore</mat-label>
            <input type="text"
                    placeholder="<digita e seleziona>"
                    matInput
                    formControlName="nomeCognomeGenitore"
                    [matAutocomplete]="auto2" #nomeCognomeGenitore 
                    (keydown.enter) = "enterGenitoreInput()"
                    >
                    <!-- [displayWith]="displayFn" DisplayWith impedisce che si possa scrivere qualcosa nella input in maniera programmatica-->
            <mat-autocomplete #auto2="matAutocomplete">
                <!-- <mat-spinner *ngIf="nomeAlunnoIsLoading" class="is-loading" diameter="40"></mat-spinner> -->
                <mat-option *ngFor="let elementG of (filteredGenitori$ | async)" (click) = "clickGenitoreCombo(elementG)" [value]="elementG.nome + ' ' + elementG.cognome" #option>
                    <small>{{elementG.nome}} {{elementG.cognome}}</small>
                </mat-option>
            </mat-autocomplete>
            <button mat-button matSuffix mat-icon-button aria-label="Clear" (click)="resetInputGenitore('nomeCognomeGenitore')">
                <mat-icon>close</mat-icon>
            </button>
        </mat-form-field>
    </mat-list-item >

    <mat-list-item >
        <mat-icon>event</mat-icon>
        <span class="descMenu">per anno</span>
    </mat-list-item >
    <mat-list-item >
        <mat-icon>groups</mat-icon>
        <span class="descMenu">per classe</span>
    </mat-list-item >
    <button mat-button matSuffix class="w90 ml12" mat-stroked-button aria-label="Clear" (click)="resetAllInputs()" >
        Pulisci Filtri
    </button>
</form>
