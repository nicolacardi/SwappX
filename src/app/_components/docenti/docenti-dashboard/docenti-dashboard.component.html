<h1 class="_titolo-pagina">Cruscotto Docente per Classe</h1>
<div class="center">
    <button type="button" mat-stroked-button (click)="drawer.toggle()">
        Docente: <span *ngIf="docente">{{docente.persona!.nome}} {{docente.persona!.cognome}}</span> - 
        Classe: <span *ngIf="classeSezioneAnno">{{classeSezioneAnno.classeSezione!.classe!.descrizione2}} {{classeSezioneAnno.classeSezione!.sezione}}</span>
    </button>
</div>

<mat-drawer-container class="h100" autosize>
    <mat-drawer class="transparent" #drawer mode="side">
        <app-classi-sezioni-anni-list 
        [dove] = "'docenti-dashboard'"
        (annoID)="annoIdEmitted($event)"
        (classeSezioneAnnoID)="classeSezioneAnnoIDEmitted($event)"
        (docenteId)="docenteIdEmitted($event)" >
    </app-classi-sezioni-anni-list>
    </mat-drawer>
    <div class="h100">

        <div *ngIf="!classeSezioneAnnoID" class="_warnCentroSchermo">
            Selezionare un docente
        </div>

        <mat-tab-group (selectedTabChange)="selectedTabValue($event)">
            <mat-tab  *ngIf="classeSezioneAnnoID"  label="Alunni">
                <div class="_table-container">
                    <app-iscrizioni-classe-list  
                        [dove]="'lista-alunni'" 
                        [classeSezioneAnnoID]="classeSezioneAnnoID">
                    </app-iscrizioni-classe-list>
                </div>
            </mat-tab>

            <mat-tab  *ngIf="classeSezioneAnnoID" label="Note Disciplinari"  >
                <app-note-page 
                    [classeSezioneAnnoID]="classeSezioneAnnoID"
                    [dove] = "'docenti-dashboard'"
                    [docenteID] = "docenteID" >
                </app-note-page>
            </mat-tab>

            <mat-tab  *ngIf="classeSezioneAnnoID" label="Compiti in Classe"  >
                <app-compiti-list 
                    [classeSezioneAnnoID]="classeSezioneAnnoID"
                    [docenteID] = "docenteID" >
                </app-compiti-list>
            </mat-tab>

            <mat-tab  *ngIf="classeSezioneAnnoID" label="Voti Interrogazioni">
                <app-voti-interr-list
                    [classeSezioneAnnoID]="classeSezioneAnnoID"
                    [docenteID] = "docenteID">
                </app-voti-interr-list>
            </mat-tab>

            <mat-tab  *ngIf="classeSezioneAnnoID" label="Pagelle per Materia">
                <!-- <h1 class="_titolo-pagina">Pagelle per materia</h1> -->
                    <!-- combo materie del docente -->
                <form [formGroup] = "form">
                    <mat-form-field  class="_pos-relative ml20 mt10 topZIndex noBottomPadding"  #materia>
                        <mat-label>Materie</mat-label>
                        <mat-select formControlName="selectMaterieDocenteClasse">
                            <mat-option *ngFor="let element of arrMaterie" [value]="element.materiaID">
                                {{element.materia.descrizione}}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                    <app-pagelle-classe-edit  
                        [classeSezioneAnnoID]="classeSezioneAnnoID"  
                        [materiaID]="materiaID"
                        [tipoVoto]="tipoVoto">
                    </app-pagelle-classe-edit>
                </form>
            </mat-tab>

            <mat-tab  *ngIf="classeSezioneAnnoID" label="Certificazione delle Competenze">
                <!-- <h1 class="_titolo-pagina">Certificazione delle Competenze</h1> -->
                <table>
                    <tr>
                        <td class="_cell-align-top w300px">
                            <app-iscrizioni-classe-list [dove]="'certcompetenze'"  
                                [classeSezioneAnnoID]="classeSezioneAnnoID"  
                                (iscrizioneID)="iscrizioneIDEmitted($event)">
                                <!-- (alunno)="alunnoEmitted($event)" > -->
                            </app-iscrizioni-classe-list>
                        </td>
                        <td class="_cell-align-top pl10 _border-left w100">
                            <app-iscrizione-risposte  
                                [iscrizioneID]="iscrizioneID"
                                [contesto]="'Cert. Competenze'"
                                >
                          </app-iscrizione-risposte>
                        </td>
                    </tr>
                </table>
            </mat-tab>
            <mat-tab  *ngIf="classeSezioneAnnoID" label="Consiglio Orientativo">
                <!-- <h1 class="_titolo-pagina">Certificazione delle Competenze</h1> -->
                <table>
                    <tr>
                        <td class="_cell-align-top w300px">
                            <app-iscrizioni-classe-list [dove]="'certcompetenze'"  
                                [classeSezioneAnnoID]="classeSezioneAnnoID"  
                                (iscrizioneID)="iscrizioneIDEmitted($event)">
                                <!-- (alunno)="alunnoEmitted($event)" > -->
                            </app-iscrizioni-classe-list>
                        </td>
                        <td class="_cell-align-top pl10 _border-left w100">
                            <app-iscrizione-risposte  
                                [iscrizioneID]="iscrizioneID"
                                [contesto]="'Consiglio Orientativo'"
                                >
                          </app-iscrizione-risposte>
                        </td>
                    </tr>
                </table>
            </mat-tab>
        </mat-tab-group>
      </div>
    
</mat-drawer-container>

